import java.net.*;
import java.util.*;
import java.io.IOException;
import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;
public class Main {
	

	public static void main(String[] args) throws IOException, InterruptedException {

		HttpClient client = HttpClient.newHttpClient();
        HttpRequest request = HttpRequest.newBuilder()
                .uri(URI.create("https://v6.exchangerate-api.com/v6/6427a64d98991b526ef20dcf/latest/USD"))
                .build();

        HttpResponse<String> response = client.send(request,
                HttpResponse.BodyHandlers.ofString());

        System.out.println(response.body());
        String RES = response.body();
		/*String RES = "{\r\n"
				+ " \"result\":\"success\",\r\n"
				+ " \"documentation\":\"https://www.exchangerate-api.com/docs\",\r\n"
				+ " \"terms_of_use\":\"https://www.exchangerate-api.com/terms\",\r\n"
				+ " \"time_last_update_unix\":1691625601,\r\n"
				+ " \"time_last_update_utc\":\"Thu, 10 Aug 2023 00:00:01 +0000\",\r\n"
				+ " \"time_next_update_unix\":1691712001,\r\n"
				+ " \"time_next_update_utc\":\"Fri, 11 Aug 2023 00:00:01 +0000\",\r\n"
				+ " \"base_code\":\"USD\",\r\n"
				+ " \"conversion_rates\":{\r\n"
				+ "  \"USD\":1,\r\n"
				+ "  \"AED\":3.6725,\r\n"
				+ "  \"AFN\":84.8200,\r\n"
				+ "  \"ALL\":94.1757,\r\n"
				+ "  \"AMD\":386.5756,\r\n"
				+ "  \"ANG\":1.7900,\r\n"
				+ "  \"AOA\":831.9661,\r\n"
				+ "  \"ARS\":284.2070,\r\n"
				+ "  \"AUD\":1.5310,\r\n"
				+ "  \"AWG\":1.7900,\r\n"
				+ "  \"AZN\":1.7014,\r\n"
				+ "  \"BAM\":1.7828,\r\n"
				+ "  \"BBD\":2.0000,\r\n"
				+ "  \"BDT\":109.4668,\r\n"
				+ "  \"BGN\":1.7828,\r\n"
				+ "  \"BHD\":0.3760,\r\n"
				+ "  \"BIF\":2831.8615,\r\n"
				+ "  \"BMD\":1.0000,\r\n"
				+ "  \"BND\":1.3466,\r\n"
				+ "  \"BOB\":6.9223,\r\n"
				+ "  \"BRL\":4.8971,\r\n"
				+ "  \"BSD\":1.0000,\r\n"
				+ "  \"BTN\":82.8947,\r\n"
				+ "  \"BWP\":13.5226,\r\n"
				+ "  \"BYN\":2.9541,\r\n"
				+ "  \"BZD\":2.0000,\r\n"
				+ "  \"CAD\":1.3426,\r\n"
				+ "  \"CDF\":2436.6041,\r\n"
				+ "  \"CHF\":0.8769,\r\n"
				+ "  \"CLP\":862.1538,\r\n"
				+ "  \"CNY\":7.2179,\r\n"
				+ "  \"COP\":4088.6399,\r\n"
				+ "  \"CRC\":538.9075,\r\n"
				+ "  \"CUP\":24.0000,\r\n"
				+ "  \"CVE\":100.5090,\r\n"
				+ "  \"CZK\":22.1243,\r\n"
				+ "  \"DJF\":177.7210,\r\n"
				+ "  \"DKK\":6.8003,\r\n"
				+ "  \"DOP\":56.5448,\r\n"
				+ "  \"DZD\":135.9435,\r\n"
				+ "  \"EGP\":30.9073,\r\n"
				+ "  \"ERN\":15.0000,\r\n"
				+ "  \"ETB\":55.2368,\r\n"
				+ "  \"EUR\":0.9115,\r\n"
				+ "  \"FJD\":2.2348,\r\n"
				+ "  \"FKP\":0.7860,\r\n"
				+ "  \"FOK\":6.8003,\r\n"
				+ "  \"GBP\":0.7861,\r\n"
				+ "  \"GEL\":2.6143,\r\n"
				+ "  \"GGP\":0.7860,\r\n"
				+ "  \"GHS\":11.2018,\r\n"
				+ "  \"GIP\":0.7860,\r\n"
				+ "  \"GMD\":62.8924,\r\n"
				+ "  \"GNF\":8583.3210,\r\n"
				+ "  \"GTQ\":7.8689,\r\n"
				+ "  \"GYD\":209.5390,\r\n"
				+ "  \"HKD\":7.8190,\r\n"
				+ "  \"HNL\":24.6044,\r\n"
				+ "  \"HRK\":6.8679,\r\n"
				+ "  \"HTG\":136.7234,\r\n"
				+ "  \"HUF\":354.0182,\r\n"
				+ "  \"IDR\":15229.9857,\r\n"
				+ "  \"ILS\":3.7004,\r\n"
				+ "  \"IMP\":0.7860,\r\n"
				+ "  \"INR\":82.8948,\r\n"
				+ "  \"IQD\":1320.6682,\r\n"
				+ "  \"IRR\":41950.2282,\r\n"
				+ "  \"ISK\":131.7638,\r\n"
				+ "  \"JEP\":0.7860,\r\n"
				+ "  \"JMD\":154.4871,\r\n"
				+ "  \"JOD\":0.7090,\r\n"
				+ "  \"JPY\":143.5392,\r\n"
				+ "  \"KES\":143.4889,\r\n"
				+ "  \"KGS\":87.9007,\r\n"
				+ "  \"KHR\":4143.8534,\r\n"
				+ "  \"KID\":1.5313,\r\n"
				+ "  \"KMF\":448.4397,\r\n"
				+ "  \"KRW\":1314.6230,\r\n"
				+ "  \"KWD\":0.3077,\r\n"
				+ "  \"KYD\":0.8333,\r\n"
				+ "  \"KZT\":445.9517,\r\n"
				+ "  \"LAK\":19350.4777,\r\n"
				+ "  \"LBP\":15000.0000,\r\n"
				+ "  \"LKR\":319.6485,\r\n"
				+ "  \"LRD\":186.5680,\r\n"
				+ "  \"LSL\":18.9678,\r\n"
				+ "  \"LYD\":4.7955,\r\n"
				+ "  \"MAD\":9.7713,\r\n"
				+ "  \"MDL\":17.6950,\r\n"
				+ "  \"MGA\":4447.4138,\r\n"
				+ "  \"MKD\":56.1829,\r\n"
				+ "  \"MMK\":2101.7554,\r\n"
				+ "  \"MNT\":3460.4140,\r\n"
				+ "  \"MOP\":8.0540,\r\n"
				+ "  \"MRU\":37.8963,\r\n"
				+ "  \"MUR\":45.3455,\r\n"
				+ "  \"MVR\":15.4627,\r\n"
				+ "  \"MWK\":1086.4902,\r\n"
				+ "  \"MXN\":17.0765,\r\n"
				+ "  \"MYR\":4.5731,\r\n"
				+ "  \"MZN\":63.9381,\r\n"
				+ "  \"NAD\":18.9678,\r\n"
				+ "  \"NGN\":763.0834,\r\n"
				+ "  \"NIO\":36.6089,\r\n"
				+ "  \"NOK\":10.2239,\r\n"
				+ "  \"NPR\":132.6316,\r\n"
				+ "  \"NZD\":1.6505,\r\n"
				+ "  \"OMR\":0.3845,\r\n"
				+ "  \"PAB\":1.0000,\r\n"
				+ "  \"PEN\":3.7058,\r\n"
				+ "  \"PGK\":3.5849,\r\n"
				+ "  \"PHP\":56.3325,\r\n"
				+ "  \"PKR\":287.9110,\r\n"
				+ "  \"PLN\":4.0691,\r\n"
				+ "  \"PYG\":7277.2239,\r\n"
				+ "  \"QAR\":3.6400,\r\n"
				+ "  \"RON\":4.5082,\r\n"
				+ "  \"RSD\":106.8041,\r\n"
				+ "  \"RUB\":97.0530,\r\n"
				+ "  \"RWF\":1188.7738,\r\n"
				+ "  \"SAR\":3.7500,\r\n"
				+ "  \"SBD\":8.5077,\r\n"
				+ "  \"SCR\":13.2256,\r\n"
				+ "  \"SDG\":556.1216,\r\n"
				+ "  \"SEK\":10.6854,\r\n"
				+ "  \"SGD\":1.3466,\r\n"
				+ "  \"SHP\":0.7860,\r\n"
				+ "  \"SLE\":22.0284,\r\n"
				+ "  \"SLL\":22028.3555,\r\n"
				+ "  \"SOS\":569.8241,\r\n"
				+ "  \"SRD\":38.1454,\r\n"
				+ "  \"SSP\":1001.1146,\r\n"
				+ "  \"STN\":22.3323,\r\n"
				+ "  \"SYP\":13026.7359,\r\n"
				+ "  \"SZL\":18.9678,\r\n"
				+ "  \"THB\":35.0342,\r\n"
				+ "  \"TJS\":10.9444,\r\n"
				+ "  \"TMT\":3.5021,\r\n"
				+ "  \"TND\":3.0821,\r\n"
				+ "  \"TOP\":2.3440,\r\n"
				+ "  \"TRY\":27.0248,\r\n"
				+ "  \"TTD\":6.7724,\r\n"
				+ "  \"TVD\":1.5313,\r\n"
				+ "  \"TWD\":31.7556,\r\n"
				+ "  \"TZS\":2497.2975,\r\n"
				+ "  \"UAH\":36.8301,\r\n"
				+ "  \"UGX\":3639.4644,\r\n"
				+ "  \"UYU\":38.1078,\r\n"
				+ "  \"UZS\":11681.5107,\r\n"
				+ "  \"VES\":31.2376,\r\n"
				+ "  \"VND\":23733.0155,\r\n"
				+ "  \"VUV\":120.2661,\r\n"
				+ "  \"WST\":2.7461,\r\n"
				+ "  \"XAF\":597.9196,\r\n"
				+ "  \"XCD\":2.7000,\r\n"
				+ "  \"XDR\":0.7467,\r\n"
				+ "  \"XOF\":597.9196,\r\n"
				+ "  \"XPF\":108.7738,\r\n"
				+ "  \"YER\":250.4324,\r\n"
				+ "  \"ZAR\":18.9688,\r\n"
				+ "  \"ZMW\":19.0958,\r\n"
				+ "  \"ZWL\":4727.2924\r\n"
				+ " }\r\n"
				+ "}";*/
        
        int CONPosistion = RES.indexOf("PLN");
        String CONChar = RES.substring(CONPosistion+5, CONPosistion+11);
        for(int i = 5; i<11;i++)
        {
        	float CON = Float.parseFloat(CONChar);
        }
        System.out.print("Aktualny przelicznik USD na PLN wynosi "+CONChar);
        
  
       
	}
}
